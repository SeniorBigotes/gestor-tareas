<div class="contenedor">

    <app-header></app-header>
    
    <div class="py-5">
        <div>
            <ul class="nav nav-underline">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Recientes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Fecha de entrega</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Progreso</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-disabled="true">Subtareas</a>
                </li>
            </ul>
        </div>

        <app-carousel-activities></app-carousel-activities>
    </div> <!-- End filters -->

    <div class="line"></div>

    <div class="activities">
        <div class="title-activities d-flex justify-content-between mt-5">
            <p class="text-uppercase">Tarea</p>
            <div class="d-flex gap-4">
                <p class="notes">Notas</p>
                <div><button class="btn btn-color">Crear</button></div>
            </div>
        </div>
        
        @if(task !== undefined) {
            <div class="tasks">
                <div class="tasks-main mt-4">
                    <div class="task-content">
                        <h2 class="fw-bold text-uppercase">{{task.task}}</h2>
                        <p>Autor: <span>{{task.auth}}</span></p>
                        <p>Grupo: <span>{{task.group}}</span></p>
                        <div class="date d-flex justify-content-center gap-3">
                            <p>Inicio <span>{{task.dateStart | date: 'dd/MM/yyyy'}}</span></p>
                            <div class="lineY"></div>
                            <p>Entrega <span>{{task.dateEnd | date: 'dd/MM/yyyy'}}</span></p>
                        </div>
                        <div class="progessbar d-flex flex-column">
                            <progress max="100" [value]="task.progress"></progress>
                            <span>{{task.progress}}%</span>
                        </div>
                        <span>@if(task.progress !== 100) { En proceso } @else { Completado }</span>
                        <p class="lastUpdate"> Ultima actualizacion <span class="d-block">{{task.dateUpdate | date: 'dd/MM/yyyy'}}</span></p>
                        <p class="description">Descripcion <span #more class="d-block mt-2" [ngClass]="showMore ? 'show' : 'hidden'">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Numquam, quaerat atque dolorum molestias itaque ipsum odio autem delectus maxime corporis. Sit placeat necessitatibus atque dolore ducimus quisquam dignissimos nobis error.
                            Sit dolorum blanditiis ipsam perspiciatis beatae maiores asperiores, pariatur id qui sunt non excepturi et tenetur ut quod totam. Ullam obcaecati vel consequuntur, dolore accusantium facilis harum voluptates doloribus nostrum!
                            Quae illo voluptas labore ipsa porro facilis minima doloribus esse vel perferendis soluta alias neque quis reiciendis repellendus vero temporibus facere nam, dolore ab fuga! Earum dolorem molestias corrupti impedit?
                            Repellendus omnis tenetur totam beatae alias sed fugit repudiandae illo cumque ipsa provident quibusdam quos odio quisquam culpa, dicta, laudantium delectus quia! Excepturi sequi sed sit autem at, facere quos.
                            Recusandae, modi dolore explicabo minima tempore ut numquam earum fugiat in at sunt autem consequatur aperiam. Nisi sint, iure amet ducimus, labore dignissimos corporis magnam repellat quis ullam rem provident?
                        </span></p>

                        @if(showMoreElement) {
                            <div class="more">
                                <span class="popover-personal" (click)="toggleReadMore()">
                                    @if(!showMore) {
                                        ...m√°s
                                    } @else {
                                        ...menos
                                    }
                                </span>
                            </div>
                        }
                    </div>
                </div> <!-- End .tasks -->

                <div class="subtasks">

                </div>
            </div> <!-- End .subtasks -->
        } @else {
            <p class="text-center p-5">Seleccione una tarea</p>
        }
        </div> <!-- End .activities -->
</div>